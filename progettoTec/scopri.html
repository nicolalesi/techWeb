<html>
    <head> 
        <title> Info sugli animali </title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <title> Info sugli animali </title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head>
    <style>
         #container{
            display: flex;
            flex-direction: column;
         }
         #titolo{
            align-self: center;
         }
         #containerInfo{
            display:flex;
            justify-content: center;
         }
         #imgAnimale{
            width: 30vw;
            height: 50vh;
            margin-left: 40px;
         }
         p{
            font-size: 15px;
            font-family: 'Courier New', Courier, monospace;
         }
    </style>
    <script>

        function getInfo(){
			var infoJSON;
			let request=new XMLHttpRequest();
			request.open("GET","http://zoo-animal-api.herokuapp.com/animals/rand/");
			request.send();
			
			request.onload=()=>{
				if(request.status==200){
					infoJSON=JSON.parse(request.response);
					console.log(infoJSON);
					disegnaAnimale(infoJSON);
				}else
				{
					console.log("errore");
				}
			}
		}
		getInfo();

        function disegnaAnimale(infoJSON){

            console.log(infoJSON.name);

            var p=document.getElementById("informazioni");
            p.innerHTML=" <b> Nome : </b> "+infoJSON.name;
            p.innerHTML+="<br/> <b> Nome latino : </b> "+infoJSON.latin_name;
            p.innerHTML+="<br/> <b> Tipo di animale : </b> "+infoJSON.animal_type;
            p.innerHTML+="<br/> <b> Momento di attività : </b> "+infoJSON.active_time;
            p.innerHTML+="<br/> <b> Lunghezza minima : </b>"+infoJSON.length_min+". <b> Lunghezza massima : </b> "+infoJSON.length_max;
            p.innerHTML+="<br/> <b> Peso minimo : </b> "+infoJSON.weight_min+".<b> Peso massimo  </b>: "+infoJSON.weight_max;
            p.innerHTML+="<br/> <b> Anni di vita : </b>"+infoJSON.lifespan;
            p.innerHTML+="<br/> <b> Habitat : </b> "+infoJSON.habitat;
            p.innerHTML+="<br/> <b> Dieta : </b> "+infoJSON.diet;
            p.innerHTML+="<br/> <b> Luogo geografico : </b> "+infoJSON.geo_range;

            var img=document.getElementById("imgAnimale");
            img.setAttribute("src",infoJSON.image_link);

        }

    function refresh(){
        getInfo();
    }
    </script>
    <body>
        <div class="card text-center">
            <div class="card-header ">
                <h3> Animal house</h3>
                <ul class="nav nav-tabs card-header-tabs" id="navbar">
                    <li class="nav-item">
                    <a class="nav-link active" href="scopri.html">Scopri nuovi animali</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="quiz.html">Quiz</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="curiosita.html">Curiosità</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="funFacts.html" tabindex="-1" aria-disabled="true">Funny and cutie images</a>
                    </li>
                </ul>
            </div>    
        </div>
        <div id="container">
            <div id="containerInfo" class="mt-5">
                <div>
                    <p id="informazioni"></p>
                    <input type="button" onclick="refresh()" value="Nuovo animale" class="btn btn-primary"/>
                </div>
                <img id="imgAnimale" class="img-thumbnail">
            </div>
        </div>    
    </body>
</html>